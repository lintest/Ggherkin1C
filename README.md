# Gherkin1C - парсер языка Gherkin, внешняя компонента 1С Native API

Библиотека внешних компонент разработана как составная часть инструмента тестирования прикладных решений 
[**Vanessa Automation**](https://github.com/Pr-Mex/vanessa-automation/), хотя имеет 
самостоятельную ценность и может быть использована в составе других продуктов.

Использует [RE-flex](https://github.com/Genivia/RE-flex): генератор лексических анализаторов на основе регулярных выражений.

### Подключение внешней компоненты

```bsl
&НаКлиенте
Перем ВнешняяКомпонента;

&НаКлиенте
Процедура ПодключениеВнешнейКомпонентыЗавершение(Подключение, ДополнительныеПараметры) Экспорт
	ВнешняяКомпонента = Новый("AddIn." + ИдентификаторКомпоненты + ".GherkinParser");
КонецПроцедуры	
```

### Свойства
- <a href="#Keywords">КлючевыеСлова (Keywords)</a>
- <a href="#PrimitiveEscaping">ПримитивноеЭкранирование (PrimitiveEscaping)</a>

### Методы
- <a href="#ParseText">ПрочитатьТекст (ParseText)</a>
- <a href="#ParseFile">ПрочитатьФайл (ParseFile)</a>
- <a href="#ParseFolder">ПрочитатьПапку (ParseFolder)</a>
- <a href="#ScanFolder">СканироватьПапку (ScanFolder)</a>
- <a href="#AbortScan">ПрерватьСканирование (AbortScan)</a>

## Свойства

### <a name="Keywords">КлючевыеСлова / Keywords</a>
Тип значения: Целое число (чтение и запись)
- Строка с текстом в формате JSON, содержащая набор ключевых слов для каждого языка локализации.

```bsl
МассивСлов = Новый Массив;
МассивСлов.Добавить("И");
МассивСлов.Добавить("Когда");
МассивСлов.Добавить("Тогда");

Функционал = Новый Массив;
Функционал.Добавить("Функционал");

Контекст = Новый Массив;
Контекст.Добавить("Контекст");

РусскиеСлова = Новый Структура("feature,background,and", Функционал, Контекст, МассивСлов);

КлючевыеСлова = Новый Структура("ru", РусскиеСлова);
ЗаписьJSON = Новый ЗаписьJSON;
ЗаписьJSON.УстановитьСтроку();
ТекстJSON = ЗаписатьJSON(ЗаписьJSON, КлючевыеСлова);
ВнешняяКомпонента.КлючевыеСлова = ТекстJSON;
```
## Методы
### <a name="ParseText">ПрочитатьТекст(Текст) / ParseText</a>
Простой парсинг строки, возвращает результат в JSON.

Параметры функции:
- **Текст** (обязательный), Тип: Строка

Тип возвращаемого значения: Строка
- Содержит строку с текстом в формате JSON.
